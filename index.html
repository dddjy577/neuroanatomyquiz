// CRITICAL FIX: Base URL must point to the raw files for reliable loading
    const BASE_IMAGE_URL = 'https://raw.githubusercontent.com/ddjj577/neuroanatomyquiz/main/'; 

    // ---------------------------------------------
    // 1. QUIZ DATA (FINAL VERSION: NO SPACES IN FILENAMES, .jpg and .png)
    // ---------------------------------------------
    const allQuizData = {
        "Set_1_basal ganglia answers": [
            { label: "1", structure: "caput nucleus caudatus", filename: "set1pic.jpg" },
            { label: "2", structure: "cauda nucleus caudatus", filename: "set1pic.jpg" },
            { label: "3", structure: "nucleus lentiformis", filename: "set1pic.jpg" },
            { label: "4", structure: "thalamus sin.", filename: "set1pic.jpg" },
            { label: "5", structure: "thalamus dx.", filename: "set1pic.jpg" },
            { label: "6", structure: "ventriculus III", filename: "set1pic.jpg" }
        ],
        "Set_2_horizontal answers": [
            { label: "1", structure: "ventr. lat. cornu ant.", filename: "set2pic.jpg" },
            { label: "2", structure: "ventr. lat. cornu inf.", filename: "set2pic.jpg" },
            { label: "3", structure: "septum pellucidum", filename: "set2pic.jpg" },
            { label: "4", structure: "ventriculus III", filename: "set2pic.jpg" },
            { label: "5", structure: "capsula interna", filename: "set2pic.jpg" },
            { label: "6", structure: "thalamus", filename: "set2pic.jpg" },
            { label: "7", structure: "corpus callosum", filename: "set2pic.jpg" },
            { label: "8", structure: "fornix", filename: "set2pic.jpg" },
            { label: "9", structure: "globus pallidus", filename: "set2pic.jpg" },
            { label: "10", structure: "putamen", filename: "set2pic.jpg" },
            { label: "11", structure: "claustrum", filename: "set2pic.jpg" },
            { label: "12", structure: "insula", filename: "set2pic.jpg" },
            { label: "13", structure: "caput nucleus caudatus", filename: "set2pic.jpg" },
            { label: "14", structure: "cauda nucleus caudatus", filename: "set2pic.jpg" }
        ],
        "Set_3_medial answers": [
            { label: "1", structure: "corpus callosum", filename: "set3pic.jpg" },
            { label: "2", structure: "septum pellucidum", filename: "set3pic.jpg" },
            { label: "3", structure: "fornix", filename: "set3pic.jpg" },
            { label: "4", structure: "commissura anterior", filename: "set3pic.jpg" },
            { label: "5", structure: "commissura posterior", filename: "set3pic.jpg" },
            { label: "6", structure: "plexus choroideus ventr. III", filename: "set3pic.jpg" },
            { label: "7", structure: "hypothalamus", filename: "set3pic.jpg" },
            { label: "8", structure: "thalamus", filename: "set3pic.jpg" },
            { label: "9", structure: "corpus mammillare", filename: "set3pic.jpg" },
            { label: "10", structure: "foramen interventriculare", filename: "set3pic.jpg" },
            { label: "11", structure: "ventriculus IV", filename: "set3pic.jpg" },
            { label: "12", structure: "plexus choroideus ventr. IV", filename: "set3pic.jpg" },
            { label: "13", structure: "aqueductus cerebri", filename: "set3pic.jpg" },
            { label: "14", structure: "corpus pineale", filename: "set3pic.jpg" },
            { label: "15", structure: "mesencephalon", filename: "set3pic.jpg" },
            { label: "16", structure: "pons", filename: "set3pic.jpg" }
        ],
        "Set_4_ventricules answers": [
            { label: "1", structure: "ventr. lat. cornu posterius", filename: "set4pic.jpg" },
            { label: "2", structure: "ventr. lat. pars centralis", filename: "set4pic.jpg" },
            { label: "3", structure: "ventr. lat. cornu anterius", filename: "set4pic.jpg" },
            { label: "4", structure: "aqueductus cerebri", filename: "set4pic.jpg" },
            { label: "5", structure: "venr. lat. cornu laterale", filename: "set4pic.jpg" },
            { label: "6", structure: "ventriculus IV", filename: "set4pic.jpg" },
            { label: "7", structure: "canalis centralis", filename: "set4pic.jpg" },
            { label: "8", structure: "aperturae lat. ventr. IV", filename: "set4pic.jpg" },
            { label: "9", structure: "apertura med. ventr. IV", filename: "set4pic.jpg" },
            { label: "10", structure: "ventriculus III", filename: "set4pic.jpg" },
            { label: "11", structure: "foramen interventriculare", filename: "set4pic.jpg" },
            { label: "12", structure: "adhesio intrathalamica", filename: "set4pic.jpg" }
        ],
        "Set_5_mesencephalon_coronal section answers": [
            { label: "a", structure: "Medial geniculate nucleus", filename: "set5pic.png" }, // Using NO SPACES and correct lowercase .png
            { label: "b", structure: "Lateral geniculate nucleus", filename: "set5pic.png" },
            { label: "c", structure: "Aqueductus cerebri", filename: "set5pic.png" },
            { label: "d", structure: "Crus cerebri", filename: "set5pic.png" },
            { label: "e", structure: "Substantia nigra", filename: "set5pic.png" },
            { label: "f", structure: "Nucleus raphne", filename: "set5pic.png" },
            { label: "g", structure: "Nucleus ruber", filename: "set5pic.png" },
            { label: "h", structure: "Nervus Oculomotorius", filename: "set5pic.png" },
            { label: "i", structure: "Colliculus superior", filename: "set5pic.png" },
            { label: "j", structure: "Periaquaductal gray", filename: "set5pic.png" },
            { label: "k", structure: "Basis pedunculi = crus cerebri, substantia nigra", filename: "set5pic.png" },
            { label: "L*", structure: "Tectum = Superior colliculus, inferior colliculus", filename: "set5pic.png" },
            { label: "M*", structure: "Tegmentum = Red nucleus, Periaqueductal gray, Reticular formation, Cranial nerve nuclei, ascending/descending pathways (except CST/CBT)", filename: "set5pic.png" },
            { label: "N*", structure: "Pedunculus cerebri = tegmentum, basis pedunculi, pretectum", filename: "set5pic.png" }
        ],
        "Set_6_medullaoblongata_answers": [
            { label: "a", structure: "Dorsal motor nucleus of vagus", filename: "set6pic.jpg" },
            { label: "b", structure: "CN V sensory nuclei", filename: "set6pic.jpg" },
            { label: "c", structure: "Inferior olivary nucleus", filename: "set6pic.jpg" },
            { label: "d", structure: "Corticospinal fibers in the pyramid", filename: "set6pic.jpg" },
            { label: "e", structure: "Medial lemniscus", filename: "set6pic.jpg" },
            { label: "f", structure: "Spinothalamic tract", filename: "set6pic.jpg" },
            { label: "g", structure: "Inferior cerebellar peduncle", filename: "set6pic.jpg" },
            { label: "h", structure: "Tectospinal tract", filename: "set6pic.jpg" },
            { label: "i", structure: "Hypoglossal nuclei", filename: "set6pic.jpg" },
            { label: "j", structure: "Medial longitudinal fasciculus", filename: "set6pic.jpg" }
        ],
        "Set_7 answers": [
            { label: "1", structure: "sulcus centralis", filename: "set7pic.jpg" },
            { label: "2", structure: "sulcus lateralis", filename: "set7pic.jpg" },
            { label: "3", structure: "sulcus parieto-occipitalis", filename: "set7pic.jpg" },
            { label: "4", structure: "gyrus precentralis", filename: "set7pic.jpg" },
            { label: "5", structure: "gyrus postcentralis", filename: "set7pic.jpg" },
            { label: "6", structure: "gyrus temporalis superior", filename: "set7pic.jpg" },
            { label: "7", structure: "gyrus temporalis media", filename: "set7pic.jpg" },
            { label: "8", structure: "gyrus temporalis inferior", filename: "set7pic.jpg" }
        ],
        "set 8 answers": [
            { label: "1", structure: "fissura longitudinalis", filename: "set8pic.jpg" },
            { label: "2", structure: "bulbus olfactorius", filename: "set8pic.jpg" },
            { label: "3", structure: "tractus olfactorius", filename: "set8pic.jpg" },
            { label: "4", structure: "chiasma opticum", filename: "set8pic.jpg" },
            { label: "5", structure: "infundibulum", filename: "set8pic.jpg" },
            { label: "6", structure: "corpus mamillare", filename: "set8pic.jpg" },
            { label: "7", structure: "pons", filename: "set8pic.jpg" },
            { label: "8", structure: "pyramis", filename: "set8pic.jpg" },
            { label: "9", structure: "flocculus", filename: "set8pic.jpg" },
            { label: "10", structure: "vermis cerebelli", filename: "set8pic.jpg" },
            { label: "11", structure: "oliva", filename: "set8pic.jpg" },
            { label: "12", structure: "gyrus temporalis inferior", filename: "set8pic.jpg" },
            { label: "13", structure: "gyrus parahippocampalis", filename: "set8pic.jpg" },
            { label: "14", structure: "gyri orbitales", filename: "set8pic.jpg" },
            { label: "15", structure: "sulci orbitales", filename: "set8pic.jpg" }
        ],
        "set 9
