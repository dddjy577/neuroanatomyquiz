<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Neuro Anatomy Quiz</title>
  <style>
    body { background: #000; color: #fff; font-family: system-ui, sans-serif; }
    img { max-width: 100%; height: auto; display: block; margin: 1rem 0; }
    button { padding: 0.5rem 1rem; margin-top: 0.5rem; }
  </style>
</head>
<body>
  <h1>Neuro Anatomy Quiz</h1>

  <label>
    Choose set:
    <select id="setSelect"></select>
  </label>

  <div id="question"></div>
  <img id="quizImage" alt="Quiz image">
  <input id="answerInput" placeholder="Type label (e.g. 3 or a)">
  <button id="checkBtn">Check</button>
  <div id="feedback"></div>

  <script>
    // Your existing code goes inside this <script> tag:
    // Base URL must point to the raw files for reliable loading
    const BASE_IMAGE_URL = 'https://raw.githubusercontent.com/ddjj577/neuroanatomyquiz/main/';

    const allQuizData = { 
      /* paste ALL your big data object here exactly as it is now */
    };

    // --- simple quiz logic ---
    const setSelect = document.getElementById('setSelect');
    const questionDiv = document.getElementById('question');
    const imgEl = document.getElementById('quizImage');
    const answerInput = document.getElementById('answerInput');
    const checkBtn = document.getElementById('checkBtn');
    const feedback = document.getElementById('feedback');

    // fill dropdown with set names
    const setNames = Object.keys(allQuizData);
    setNames.forEach(name => {
      const opt = document.createElement('option');
      opt.value = name;
      opt.textContent = name;
      setSelect.appendChild(opt);
    });

    let currentItem = null;

    function loadRandomQuestion() {
      const setName = setSelect.value;
      const set = allQuizData[setName];
      currentItem = set[Math.floor(Math.random() * set.length)];
      questionDiv.textContent =
        `In ${setName}, which structure has the label "${currentItem.label}"?`;
      imgEl.src = BASE_IMAGE_URL + currentItem.filename;
      feedback.textContent = '';
      answerInput.value = '';
      answerInput.focus();
    }

    setSelect.addEventListener('change', loadRandomQuestion);
    checkBtn.addEventListener('click', () => {
      const user = answerInput.value.trim();
      if (!currentItem) return;
      if (user.toLowerCase() === currentItem.structure.toLowerCase()) {
        feedback.textContent = 'Correct!';
      } else {
        feedback.textContent = `Wrong. Correct answer: ${currentItem.structure}`;
      }
      // load next after short delay
      setTimeout(loadRandomQuestion, 1500);
    });

    // start with first set
    if (setNames.length > 0) {
      setSelect.value = setNames[0];
      loadRandomQuestion();
    }
  </script>
</body>
</html>
